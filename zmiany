def setup_table_properties(self):
        """Konfiguruje właściwości tabel i tworzy delegatów z ustawieniami."""
        self.events_table.setSortingEnabled(True)
        # Usunięto linię resetującą sortowanie tabeli zdarzeń:
        # self.events_table.sortByColumn(0, Qt.AscendingOrder)

        if hasattr(self, 'table') and hasattr(self.table, 'employees_view'):
            self.table.employees_view.setSortingEnabled(True)
            # Usunięto linię, która czyściła sortowanie tabeli grafiku:
            # self.table.employees_view.sortByColumn(-1, Qt.AscendingOrder)

        if hasattr(self.table, 'employees_view') and hasattr(self.table.employees_view, 'horizontalHeader'):
            self.table.employees_view.horizontalHeader().sortIndicatorChanged.connect(self.on_sort_changed)

        if hasattr(self.events_table, 'horizontalHeader'):
            self.events_table.horizontalHeader().sortIndicatorChanged.connect(self.on_events_sort_changed)
            self.setup_events_table_columns()

        overtime_delegate = OvertimeItemDelegate(settings=self.user_settings)
        self.table.schedule_view.setItemDelegate(overtime_delegate)

        button_delegate = ButtonDelegate(parent=self, button_text="Odwołaj", is_dark_theme=self.is_dark_theme)
        button_delegate.button_clicked.connect(self.delete_event_from_row)
        self.events_table.setItemDelegateForColumn(10, button_delegate)  # "Akcje" to kolumna 10
        
        self.table.day_sort_requested.connect(self.apply_day_sort)

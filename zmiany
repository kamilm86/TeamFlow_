# W pliku styles.py, wewnątrz klasy AppStyles

@staticmethod
def get_checkbox_style(theme="dark"):
    if theme == "dark":
        text_color = AppStyles.DARK_TEXT_PRIMARY
        unchecked_border = AppStyles.DARK_BORDER_PRIMARY
        unchecked_bg = AppStyles.DARK_BACKGROUND_CONTROLS
        unchecked_hover_border = AppStyles.ACCENT_COLOR_DARK
        checked_border = AppStyles.ACCENT_COLOR_DARK
        checked_bg = AppStyles.ACCENT_COLOR_DARK
        checked_hover_bg = AppStyles.ACCENT_COLOR_DARK_HOVER
        checked_hover_border = AppStyles.ACCENT_COLOR_DARK_HOVER
    else: # light theme
        text_color = AppStyles.LIGHT_TEXT_PRIMARY
        unchecked_border = AppStyles.LIGHT_BORDER_SECONDARY
        unchecked_bg = AppStyles.LIGHT_BACKGROUND_CONTROLS
        unchecked_hover_border = AppStyles.ACCENT_COLOR_LIGHT
        checked_border = AppStyles.ACCENT_COLOR_LIGHT
        checked_bg = AppStyles.ACCENT_COLOR_LIGHT
        checked_hover_bg = AppStyles.ACCENT_COLOR_LIGHT_HOVER
        checked_hover_border = AppStyles.ACCENT_COLOR_LIGHT_HOVER

    # --- POCZĄTEK ZMIANY: Dodanie ikony "ptaszka" ---
    # Wektorowa ikona zakodowana jako data URI
    checkmark_icon_light = "url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e\")"
    checkmark_icon_dark = "url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e\")"
    
    checkmark_icon = checkmark_icon_dark if theme == "dark" else checkmark_icon_light
    # --- KONIEC ZMIANY ---
    
    return f\"\"\"
        QCheckBox {{
            color: {text_color};
            spacing: 5px;
            padding: {AppStyles.CONTROL_PADDING};
            background-color: transparent;
        }}
        QCheckBox::indicator, QGroupBox::indicator {{
            width: 14px;
            height: 14px;
            border-radius: {AppStyles.BORDER_RADIUS};
        }}
        QCheckBox::indicator:unchecked, QGroupBox::indicator:unchecked {{
            border: 1px solid {unchecked_border};
            background: {unchecked_bg};
            image: none; /* Upewnij się, że nie ma ikony w stanie odznaczonym */
        }}
        QCheckBox::indicator:unchecked:hover, QGroupBox::indicator:unchecked:hover {{
            border: 1px solid {unchecked_hover_border};
        }}
        QCheckBox::indicator:checked, QGroupBox::indicator:checked {{
            border: 1px solid {checked_border};
            background-color: {checked_bg};
            image: {checkmark_icon}; /* <-- DODANA IKONA */
        }}
        QCheckBox::indicator:checked:hover, QGroupBox::indicator:checked:hover {{
            background-color: {checked_hover_bg};
            border: 1px solid {checked_hover_border};
        }}
        QGroupBox::title {{
            padding-left: 5px;
            padding-top: 1px; /* Drobna korekta pionowego ułożenia tekstu */
        }}
    \"\"\"

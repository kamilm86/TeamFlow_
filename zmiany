# W pliku styles.py, wewnątrz klasy AppStyles

@staticmethod
def get_checkbox_style(theme="dark"):
    if theme == "dark":
        text_color = AppStyles.DARK_TEXT_PRIMARY
        unchecked_border = AppStyles.DARK_BORDER_PRIMARY
        unchecked_bg = AppStyles.DARK_BACKGROUND_CONTROLS
        unchecked_hover_border = AppStyles.ACCENT_COLOR_DARK
        checked_border = AppStyles.ACCENT_COLOR_DARK
        checked_bg = AppStyles.ACCENT_COLOR_DARK
        checked_hover_bg = AppStyles.ACCENT_COLOR_DARK_HOVER
        checked_hover_border = AppStyles.ACCENT_COLOR_DARK_HOVER
        checkmark_color = "white"
    else: # light theme
        text_color = AppStyles.LIGHT_TEXT_PRIMARY
        unchecked_border = AppStyles.LIGHT_BORDER_SECONDARY
        unchecked_bg = AppStyles.LIGHT_BACKGROUND_CONTROLS
        unchecked_hover_border = AppStyles.ACCENT_COLOR_LIGHT
        checked_border = AppStyles.ACCENT_COLOR_LIGHT
        checked_bg = AppStyles.ACCENT_COLOR_LIGHT
        checked_hover_bg = AppStyles.ACCENT_COLOR_LIGHT_HOVER
        checked_hover_border = AppStyles.ACCENT_COLOR_LIGHT_HOVER
        checkmark_color = "white"

    # --- POCZĄTEK ZMIANY: Dodano wektorową ikonę "ptaszka" ---
    # Ta ikona jest osadzona bezpośrednio w kodzie, aby uniknąć problemów z plikami
    checkmark_svg_uri = (
        f"url(data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20"
        f"width%3D'12'%20height%3D'12'%20fill%3D'{checkmark_color}'%3E%3Cpath%20"
        f"d%3D'M4.6%209.4L2%206.8l-1.4%201.4L4.6%2012.2l8-8-1.4-1.4z'%2F%3E%3C%2Fsvg%3E)"
    )
    # --- KONIEC ZMIANY ---

    return f"""
        QCheckBox {{
            color: {text_color};
            spacing: 5px;
            padding: {AppStyles.CONTROL_PADDING};
            background-color: transparent;
        }}
        QCheckBox::indicator, QGroupBox::indicator {{
            width: 14px;
            height: 14px;
            border-radius: {AppStyles.BORDER_RADIUS};
        }}
        QCheckBox::indicator:unchecked, QGroupBox::indicator:unchecked {{
            border: 1px solid {unchecked_border};
            background: {unchecked_bg};
        }}
        QCheckBox::indicator:unchecked:hover, QGroupBox::indicator:unchecked:hover {{
            border: 1px solid {unchecked_hover_border};
        }}
        QCheckBox::indicator:checked, QGroupBox::indicator:checked {{
            border: 1px solid {checked_border};
            background: {checked_bg};
            /* --- POCZĄTEK ZMIANY: Dodano wyświetlanie ikony --- */
            image: {checkmark_svg_uri};
            /* --- KONIEC ZMIANY --- */
        }}
        QCheckBox::indicator:checked:hover, QGroupBox::indicator:checked:hover {{
            background: {checked_hover_bg};
            border: 1px solid {checked_hover_border};
        }}
        QGroupBox::title {{
            padding-left: 5px;
        }}
    """
